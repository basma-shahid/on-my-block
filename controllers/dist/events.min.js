"use strict";var Event=require("../models/event"),User=require("../models/user");function create(r,s){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Event.create({name:r.body.name,location:r.body.location,user:r.user._id}));case 3:t=e.sent,console.log(t),console.log("this is the req.user",r.user),console.log("this is id",r.user._id),User.findById(r.user._id,function(e,r){r.events.push(t),r.save(),console.log("this is req.user",User.events)}),s.status(200).json("ok. event added to DB!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s.json(e.t0);case 14:case"end":return e.stop()}},null,null,[[0,11]])}function eventForUsers(r,s){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Event.find({user:r.params._id}).populate("user").exec());case 3:t=e.sent,console.log(t),s.status(200).json(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},null,null,[[0,8]])}module.exports={create:create,eventForUsers:eventForUsers};
//# sourceMappingURL=events.min.js.map
